{% extends "base.html" %}
{% block title %}Create Paste{% endblock title %}
{% block body %}
<form class="grow" method="POST" action="/">
  <input type="hidden" name="token" value="{{ token }}">
  <textarea
      class="w-full h-full resize-none bg-transparent font-mono outline-none"
      name="content"
      autofocus
      autocomplete="off"
      autocorrect="off"
      autocapitalize="off"
      spellcheck="false"
      placeholder="Paste something :)"></textarea>
  <button
      class="absolute bottom-4 right-4 px-4 py-2 rounded-lg shadow-lg bg-blue-800 dark:bg-blue-800
      hover:bg-blue-700 dark:hover:bg-blue-700 text-gray-200 hover:text-gray-100 text-lg
      cursor-pointer transition-colors hidden"
      type="submit"
      title="Create paste &#x2318;+&#x23ce;">&#10003; Create paste</button>
</form>
<script>
  const form = document.querySelector("form");
  const textarea = document.querySelector("textarea");
  const button = document.querySelector("button[type='submit']");

  textarea.addEventListener("input", () => {
    button.classList.toggle("hidden", !textarea.value);
  });

  document.body.addEventListener("keydown", (event) => {
    if (event.key === "Enter" && (event.metaKey || event.ctrlKey || event.altKey)) {
      form.submit();
    }
  });
</script>
{% endblock body %}
